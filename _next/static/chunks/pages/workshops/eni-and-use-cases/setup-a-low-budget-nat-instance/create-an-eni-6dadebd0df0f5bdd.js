(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[915],{8150:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/workshops/eni-and-use-cases/setup-a-low-budget-nat-instance/create-an-eni",function(){return t(3335)}])},3335:function(e,n,t){"use strict";t.r(n),t.d(n,{__toc:function(){return l},default:function(){return u}});var a=t(5893),s=t(2673),r=t(7913),i=t(8426);t(9128);var o=t(2643),c={src:"/_next/static/media/create-nat-eni.ec7db9b6.png",height:1618,width:1686,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAeFBMVEX////+/v79/v79/f38/f38/fz4//j8/Pz3/vf7+/v3/ff6+vr6+fr5+fn4+fn5+Pn4+Pj3+Pj29/f39vby+fP29vf29vb19vbv+fT19fbu+PP09PTz9PTy8/Tt9vHs9vLv9e/y8vLt9e7r9fDw8fHw8PDn8ezm8OuO9JtNAAAASUlEQVR42g3IxwGAIBAEwMUTFTEcYkTMqf8OZZ6Do9OBquC9ISmRYj/bLMkpxlILAYTpS0FEkcL9NGwMD5hmbQu2jO111+i+9Qd6QgP3/DeSMAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},d={src:"/_next/static/media/create-an-eni-2.27e2a2c1.png",height:694,width:1690,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAIAAAAhqtkfAAAAQElEQVR42k3EMRKAQAgEQf7/QDMDA2PlgGU9LZTQqa6RU7UFosMvUYy4g0Wf3r9qPvU2GWbmnmRmgoQe2Bbs6wcgbUTraH2c3QAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:3};let l=[{depth:2,value:"Why do we need an additional ENI?",id:"why-do-we-need-an-additional-eni"},{depth:2,value:"Create the ENI",id:"create-the-eni"}];function _createMdxContent(e){let n=Object.assign({h1:"h1",h2:"h2",p:"p",strong:"strong",ol:"ol",li:"li",a:"a",ul:"ul",code:"code",img:"img"},(0,o.a)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{children:"Create an Elastic Network Interface (ENI)"}),"\n",(0,a.jsx)(n.h2,{id:"why-do-we-need-an-additional-eni",children:"Why do we need an additional ENI?"}),"\n",(0,a.jsxs)(n.p,{children:["There are 2 things we must ensure when the ",(0,a.jsx)(n.strong,{children:"NAT instance"})," crashes or is terminated (accidentally or intentionally):"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"The NAT instance must be replaced automatically by another one."})," This will be achieved by setting up an ",(0,a.jsx)(n.strong,{children:"Auto-Scaling Group"})," in the next step."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"The private route tables still point correctly to the new NAT instance."}),"\nTo achieve this requirement, one of the easiest ways is to create an ",(0,a.jsx)(n.strong,{children:"Elastic Network Interface (ENI)"}),".\nThis ",(0,a.jsx)(n.strong,{children:"ENI"})," will be attached to the ",(0,a.jsx)(n.strong,{children:"NAT instance"})," when it launches and all traffic to the internet from the ",(0,a.jsx)(n.strong,{children:"private instances"})," will go through this ",(0,a.jsx)(n.strong,{children:"ENI"}),".\nIf the ",(0,a.jsx)(n.strong,{children:"NAT instance"})," crashes or is terminated, the ",(0,a.jsx)(n.strong,{children:"ENI"})," will be detached from the old instance and attached to the new instance automatically.\nTherefore, the ",(0,a.jsx)(n.strong,{children:"private instances"})," will not be affected by the change."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"create-the-eni",children:"Create the ENI"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Open the ",(0,a.jsx)(n.a,{href:"https://console.aws.amazon.com/ec2/",children:"EC2 console"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["In the sidebar, choose ",(0,a.jsx)(n.strong,{children:"Network Interfaces"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Choose ",(0,a.jsx)(n.strong,{children:"Create network interface"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["In the ",(0,a.jsx)(n.strong,{children:"Create network interface"})," wizard, enter the following information:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Subnet"}),": Choose a public subnet you created earlier where the ",(0,a.jsx)(n.strong,{children:"NAT instance"})," will be launched."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Private IP address"}),": Leave it ",(0,a.jsx)(n.code,{children:"Auto-assign"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Security groups"}),": Choose the ",(0,a.jsx)(n.strong,{children:"security group"})," you created earlier for the ",(0,a.jsx)(n.strong,{children:"NAT instance"}),".\n",(0,a.jsx)(n.img,{alt:"Create ENI",placeholder:"blur",src:c})]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Tags"}),": Add a tag with the key ",(0,a.jsx)(n.code,{children:"Name"})," and value ",(0,a.jsx)(n.code,{children:"nat-eni"}),". This tag will be used to identify the ",(0,a.jsx)(n.strong,{children:"ENI"})," later. So make sure to use the same key and value.\n",(0,a.jsx)(n.img,{placeholder:"blur",src:d})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Choose ",(0,a.jsx)(n.strong,{children:"Create network interface"}),"."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["In many real-world cases, keeping the ",(0,a.jsx)(n.strong,{children:"NAT instance's"})," public IP address static is important.\nFor example, if you integrate with a third-party service that requires a fixed IP address, you can use an ",(0,a.jsx)(n.strong,{children:"Elastic IP address (EIP)"})," and associate it with the ",(0,a.jsx)(n.strong,{children:"ENI"}),".\nHowever, for this lab, we will not implement this feature to keep the workshop simple and cost-effective."]})]})}let h={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,o.a)(),e.components);return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(_createMdxContent,{...e})}):_createMdxContent(e)},pageOpts:{filePath:"pages/workshops/eni-and-use-cases/setup-a-low-budget-nat-instance/create-an-eni.mdx",route:"/workshops/eni-and-use-cases/setup-a-low-budget-nat-instance/create-an-eni",timestamp:1723654418e3,pageMap:[{kind:"Meta",data:{index:"Introduction",overview:"Overview","before-you-start":"Before You Start",workshops:"Workshops",contact:{title:"Contact â†—",type:"page",href:"https://www.linkedin.com/in/nghia-pham-70a0ab205/",newWindow:!0}}},{kind:"MdxPage",name:"before-you-start",route:"/before-you-start"},{kind:"MdxPage",name:"index",route:"/"},{kind:"MdxPage",name:"overview",route:"/overview"},{kind:"Folder",name:"workshops",route:"/workshops",children:[{kind:"Meta",data:{"eni-and-use-cases":"Elastic Network Interfaces (ENIs) and Use Cases"}},{kind:"Folder",name:"eni-and-use-cases",route:"/workshops/eni-and-use-cases",children:[{kind:"Meta",data:{"setup-a-low-budget-nat-instance":"Setup a Low-Budget NAT Instance","setup-a-low-budget-load-balancer":{display:"hidden",title:"Setup a Low Budget Load Balancer"}}},{kind:"MdxPage",name:"setup-a-low-budget-load-balancer",route:"/workshops/eni-and-use-cases/setup-a-low-budget-load-balancer"},{kind:"Folder",name:"setup-a-low-budget-nat-instance",route:"/workshops/eni-and-use-cases/setup-a-low-budget-nat-instance",children:[{kind:"Meta",data:{"create-a-vpc":"1. Create a VPC","create-private-security-group":"2. Create the Security Group for the Private Instances","create-nat-security-group":"3. Create the Security Group for the NAT Instance","create-nat-role":"4. Create IAM Role for the NAT Instance","create-an-eni":"5. Create an ENI","update-private-route-tables":"6. Update Private Route Tables","create-nat-launch-template":"7. Create Launch Template for the NAT Instance","launch-nat-instance-with-asg":"8. Launch NAT Instance with Auto Scaling Group","test-nat-instance":"9. Test the NAT Instance","clean-up":"10. Clean Up",conclusion:"11. Conclusion"}},{kind:"MdxPage",name:"clean-up",route:"/workshops/eni-and-use-cases/setup-a-low-budget-nat-instance/clean-up"},{kind:"MdxPage",name:"conclusion",route:"/workshops/eni-and-use-cases/setup-a-low-budget-nat-instance/conclusion"},{kind:"MdxPage",name:"create-a-vpc",route:"/workshops/eni-and-use-cases/setup-a-low-budget-nat-instance/create-a-vpc"},{kind:"MdxPage",name:"create-an-eni",route:"/workshops/eni-and-use-cases/setup-a-low-budget-nat-instance/create-an-eni"},{kind:"MdxPage",name:"create-nat-launch-template",route:"/workshops/eni-and-use-cases/setup-a-low-budget-nat-instance/create-nat-launch-template"},{kind:"MdxPage",name:"create-nat-role",route:"/workshops/eni-and-use-cases/setup-a-low-budget-nat-instance/create-nat-role"},{kind:"MdxPage",name:"create-nat-security-group",route:"/workshops/eni-and-use-cases/setup-a-low-budget-nat-instance/create-nat-security-group"},{kind:"MdxPage",name:"create-private-security-group",route:"/workshops/eni-and-use-cases/setup-a-low-budget-nat-instance/create-private-security-group"},{kind:"MdxPage",name:"launch-nat-instance-with-asg",route:"/workshops/eni-and-use-cases/setup-a-low-budget-nat-instance/launch-nat-instance-with-asg"},{kind:"MdxPage",name:"test-nat-instance",route:"/workshops/eni-and-use-cases/setup-a-low-budget-nat-instance/test-nat-instance"},{kind:"MdxPage",name:"update-private-route-tables",route:"/workshops/eni-and-use-cases/setup-a-low-budget-nat-instance/update-private-route-tables"}]},{kind:"MdxPage",name:"setup-a-low-budget-nat-instance",route:"/workshops/eni-and-use-cases/setup-a-low-budget-nat-instance"}]},{kind:"MdxPage",name:"eni-and-use-cases",route:"/workshops/eni-and-use-cases"}]},{kind:"MdxPage",name:"workshops",route:"/workshops"}],flexsearch:{codeblocks:!0},title:"Create an Elastic Network Interface (ENI)",headings:l},pageNextRoute:"/workshops/eni-and-use-cases/setup-a-low-budget-nat-instance/create-an-eni",nextraLayout:r.ZP,themeConfig:i.Z};var u=(0,s.j)(h)},8426:function(e,n,t){"use strict";var a=t(5893);t(7294);var s=t(5675),r=t.n(s);let i={head:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,a.jsx)("meta",{property:"og:title",content:"Benlab"}),(0,a.jsx)("meta",{property:"og:description",content:"Let's learn together"}),(0,a.jsx)("link",{rel:"icon",type:"image/png",href:"/images/logo.png"})]}),logo:(0,a.jsxs)("span",{children:[(0,a.jsx)(r(),{className:"rounded-full",src:"/images/logo.png",alt:"logo",height:50,width:50,style:{borderRadius:"50%",display:"inline-block"}})," ",(0,a.jsx)("b",{children:"BENLAB'S WORKSHOPS"})]}),project:{link:"https://github.com/phamtrongngh/aws-workshops"},docsRepositoryBase:"https://github.com/phamtrongngh/aws-workshops",footer:{text:""},editLink:{component:null},feedback:{content:"Give feedback"},useNextSeoProps:()=>({titleTemplate:"%s - Benlab's Workshops"})};n.Z=i},5789:function(){}},function(e){e.O(0,[774,543,888,179],function(){return e(e.s=8150)}),_N_E=e.O()}]);